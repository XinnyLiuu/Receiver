<ion-header>
	<ion-toolbar>
		<ion-title>Messages</ion-title>
		<ion-icon slot="end" name="moon"></ion-icon>
		<ion-toggle id="themeToggle" slot="end" color="warning" [checked]="isDarkMode"></ion-toggle>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-list class="ion-padding" *ngIf="messages.length === 0">
		<ion-item>
			<ion-title>
				No messages at this time!
			</ion-title>
		</ion-item>
	</ion-list>

	<ion-list *ngIf="messages.length > 0" class="ion-padding">
		<ion-list-header>All Conversations</ion-list-header>
		<ion-item button *ngFor="let message of messages" (click)="openChat(message.contact)">
			<ion-avatar size="large" slot="start">
				<img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y">
			</ion-avatar>
			<ion-label>
				<h2>{{message.contact}}</h2>
				<h3>
					<span *ngIf="message.myself">You: </span>
					{{message.message}}
				</h3>
				<p>{{message.timestamp}}</p>
			</ion-label>
		</ion-item>
	</ion-list>

	<ion-fab vertical="bottom" horizontal="end" slot="fixed" edge>
		<ion-fab-button color="warning">
			<ion-icon name="menu"></ion-icon>
		</ion-fab-button>
		<ion-fab-list side="top">
			<ion-fab-button color="light" (click)="doLogout()">
				<ion-icon name="exit"></ion-icon>
			</ion-fab-button>
			<ion-fab-button color="light">
				<ion-icon name="settings"></ion-icon>
			</ion-fab-button>
			<ion-fab-button color="light" (click)="toCreate()">
				<ion-icon name="add"></ion-icon>
			</ion-fab-button>
		</ion-fab-list>
	</ion-fab>
</ion-content>

<ion-footer>
	<ion-toolbar>
		<ion-title>Receiver</ion-title>
	</ion-toolbar>
</ion-footer>