<ion-header no-border>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button></ion-back-button>
		</ion-buttons>

		<ion-title>{{contact}}</ion-title>

		<ion-icon slot="end" name="moon"></ion-icon>
		<ion-toggle id="themeToggle" slot="end" color="warning" [checked]="isDarkMode"></ion-toggle>
	</ion-toolbar>
</ion-header>

<ion-toolbar [hidden]="!error" color="danger">
	<ion-title>An error has occured!</ion-title>
</ion-toolbar>

<ion-content>
	<ion-list class="ion-padding" #content>
		<ion-item *ngFor="let message of messages">
			<ion-label *ngIf="message.sent" color="dark">
				<h2>{{message.text}}</h2>
				<p>{{message.sender}}</p>
				<p>{{message.timestamp}}</p>
				<p>{{message.sent}}</p>
			</ion-label>
			<ion-label *ngIf="!message.sent" color="warning">
				<h2>{{message.text}}</h2>
				<p>{{message.sender}}</p>
				<p>{{message.timestamp}}</p>
				<p>{{message.sent}}</p>
			</ion-label>
		</ion-item>
	</ion-list>
</ion-content>

<ion-footer>
	<form [formGroup]="messageForm" (ngSubmit)="sendMessage(messageForm.value)">
		<ion-item lines="inset" class="ion-padding">
			<ion-textarea required type="text" name="message" formControlName="message" color="dark"
				placeholder="Send a message"></ion-textarea>
			<ion-button [disabled]="!messageForm.valid" type="submit" slot="end" color="warning">Send</ion-button>
		</ion-item>
	</form>
</ion-footer>